{extend name="public/index" /}

{block name="main"}
<div class="banner">
    <img src="__STATIC__/portal/imgs/banner/solution.png" alt="Logo" class="img-fluid wow fadeIn">
</div>

<div class="container mb-5">
    <div class="fs-1 py-3 my-3 my-lg-5 text-center">行业解决方案</div>
    <div class="row row-cols-2 g-4">
        {foreach $list as $key => $val}
        <div class="col mb-4 fangan-active">
            <a href="/solution/info.html?id={$val.id}" target="_blank">
                <div style="overflow: hidden;min-height: 328px;">
                    <img src="{$val.cover_img}" alt="" class="img-fluid">
                </div>
                <div class="case-card my-4 fs-18 c-15 line1">{$val.title}</div>
                <span class="fs-14 c-007 py-4 d-block w-25">了解更多 +</span>
            </a>
        </div>
        {/foreach}
    </div>
</div>

{php}
$a = 1;
$b = 10;
if ($pages > 1) {
    if ($pages > 10 && $page > 5) {
        if ($page === $pages) {
            $a = $page - 9;
        } else {
            $a = $page - 5;
        }

        $b = $page + 4;
        if ($b > $pages) {
            $b = $pages;
        }
    }

    $c = $b - $a;
    if ($c < 9) {
        $a -= 9 - c;
    }
    $b = $b > $pages ? $pages : $b;
{/php}

<div class="pages my-5 py-5">
    <ul class="pagination justify-content-center">
        <li class="page-item"><a class="page-link {if $page === 1}disabled{/if}" href="/Solution/index/page/1">首页</a></li>
        <li class="page-item"><a class="page-link {if $page === 1}disabled{/if}" href="/Solution/index/page/{$page - 1}">上一页</a></li>
        {php}
        for ($i = $a; $i <= $b; $i++) {
        {/php}
        <li class="page-item {if ($i === $page)}active{/if}"><a class="page-link" href="/Solution/index/page/{$i}">{$i}</a></li>
        {php}
        }
        {/php}
        <li class="page-item"><a class="page-link {if $page === $pages}disabled{/if}" href="/Solution/index/page/{$page + 1}">下一页</a></li>
        <li class="page-item"><a class="page-link {if $page === $pages}disabled{/if}" href="/Solution/index/page/{$pages}">尾页</a></li>

    </ul>
</div>

{php}
}
{/php}
{/block}

{block name="script"}
<script>
    //btn
    $('.fangan-active').hover(function () {
            $(this).find('img').addClass('wow pulse animated');
            $(this).find('img').attr("style", "visibility: visible; animation-name: pulse") // 重新启动wow
            $(this).find('span').addClass('bgc-007 c-fff text-center').removeClass('c-007')
        },
        function () {
            $(this).find('img').removeClass('wow pulse animated');
            $(this).find('img').removeAttr('style')
            $(this).find('span').removeClass('bgc-007 c-fff text-center').addClass('c-007')

        },
    )
</script>
{/block}
